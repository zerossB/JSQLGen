package gen.nbproject;

/**
 *
 * @author marcos
 */
public final class nbProjectGen_hsqldb {
    private project.Project project;
    
    public nbProjectGen_hsqldb(project.Project project, String projectPath) throws java.io.IOException{
        this.project = project;
        projectPath = projectPath+"/"+project.getName();
        java.io.File dir = new java.io.File(projectPath);
        String code;

        if(!dir.exists() && project.getName().length()>0){
            dir.mkdir();
            java.io.FileOutputStream fileGen;

            //root
            //build.xml
            fileGen = new java.io.FileOutputStream(projectPath + "/build.xml");
            fileGen.write(get_build_xml().getBytes("UTF-8"));
            fileGen.close();
            //manifest.mf
            fileGen = new java.io.FileOutputStream(projectPath + "/manifest.mf");
            fileGen.write(get_manifest_mf().getBytes("UTF-8"));
            fileGen.close();

            //nbproject
            dir = new java.io.File(projectPath+"/nbproject");
            dir.mkdir();
            //nbproject/build-impl.xml
            fileGen = new java.io.FileOutputStream(projectPath + "/nbproject/build-impl.xml");
            fileGen.write(get_nbproject_build_impl_xml().getBytes("UTF-8"));
            fileGen.close();
            //nbproject/genfiles.properties
            fileGen = new java.io.FileOutputStream(projectPath + "/nbproject/genfiles.properties");
            fileGen.write(get_nbproject_genfiles_properties().getBytes("UTF-8"));
            fileGen.close();
            //nbproject/project.properties
            fileGen = new java.io.FileOutputStream(projectPath + "/nbproject/project.properties");
            fileGen.write(get_nbproject_project_properties().getBytes("UTF-8"));
            fileGen.close();
            //nbproject/project.xml
            fileGen = new java.io.FileOutputStream(projectPath + "/nbproject/project.xml");
            fileGen.write(get_nbproject_project_xml().getBytes("UTF-8"));
            fileGen.close();
            
            //lib
            dir = new java.io.File(projectPath+"/lib");
            dir.mkdir();
            copy("gen/lib/hsqldb.jar", projectPath+"/lib/hsqldb.jar");

            //src
            dir = new java.io.File(projectPath+"/src");
            dir.mkdir();
            
            //toolbox
            dir = new java.io.File(projectPath+"/src/toolbox");
            dir.mkdir();
            copy("gen/toolbox/SQLViewer_java.txt", projectPath+"/src/toolbox/SQLViewer.java");
            copy("gen/toolbox/SQLViewer_form.txt", projectPath+"/src/toolbox/SQLViewer.form");

            dir = new java.io.File(projectPath+"/src/toolbox/print");
            dir.mkdir();
            copy("gen/toolbox/PrintHTML.txt", projectPath+"/src/toolbox/print/PrintHTML.java");

            dir = new java.io.File(projectPath+"/src/toolbox/images");
            dir.mkdir();
            copy("toolbox/images/stock_calc-accept-16.png", projectPath+"/src/toolbox/images/stock_calc-accept-16.png");
            copy("toolbox/images/stock_calc-cancel-16.png", projectPath+"/src/toolbox/images/stock_calc-cancel-16.png");
            copy("toolbox/images/stock_data-new-sql-query-16.png", projectPath+"/src/toolbox/images/stock_data-new-sql-query-16.png");
            copy("toolbox/images/stock_data-table-16.png", projectPath+"/src/toolbox/images/stock_data-table-16.png");
            copy("toolbox/images/stock_delete-16.png", projectPath+"/src/toolbox/images/stock_delete-16.png");
            copy("toolbox/images/stock_export-16.png", projectPath+"/src/toolbox/images/stock_export-16.png");
            copy("toolbox/images/stock_insert_image-16.png", projectPath+"/src/toolbox/images/stock_insert_image-16.png");
            copy("toolbox/images/stock_new-16.png", projectPath+"/src/toolbox/images/stock_new-16.png");
            copy("toolbox/images/stock_open-16.png", projectPath+"/src/toolbox/images/stock_open-16.png");
            copy("toolbox/images/stock_paste-16.png", projectPath+"/src/toolbox/images/stock_paste-16.png");
            copy("toolbox/images/stock_print-16.png", projectPath+"/src/toolbox/images/stock_print-16.png");
            copy("toolbox/images/stock_search-16.png", projectPath+"/src/toolbox/images/stock_search-16.png");
            
            //dbaccess
            dir = new java.io.File(projectPath+"/src/dbaccess");
            dir.mkdir();
            code = new gen.dbaccess.ClassDBAccessGen_hsqldb(project).getJavaCode();
            fileGen = new java.io.FileOutputStream(projectPath+"/src/dbaccess/DBAccess.java");
            fileGen.write(code.getBytes("UTF-8"));
            fileGen.close();
            code = new gen.dbaccess.ClassDAOGen().getJavaCode();
            fileGen = new java.io.FileOutputStream(projectPath+"/src/dbaccess/DAO.java");
            fileGen.write(code.getBytes("UTF-8"));
            fileGen.close();

            //mainclass
            dir = new java.io.File(projectPath+"/src/"+project.getName().toLowerCase());
            dir.mkdir();
            //MainWindow.java
            code = new gen.mainwindow.MainWindowGen(project).getJavaCode();
            fileGen = new java.io.FileOutputStream(projectPath+"/src/"+project.getName().toLowerCase()+"/MainWindow.java");
            fileGen.write(code.getBytes("UTF-8"));
            fileGen.close();
            //MainWindow.form
            code = new gen.mainwindow.MainWindowXMLGen(project).getXMLCode();
            fileGen = new java.io.FileOutputStream(projectPath+"/src/"+project.getName().toLowerCase()+"/MainWindow.form");
            fileGen.write(code.getBytes("UTF-8"));
            fileGen.close();
            
            //classes
            int maxLevel = project.getMaxHierarchyLevel();
            for (int i=1;i<=maxLevel;i++){
                for (project.ClassBean classBean : project.getClassBeans()){
                    if(classBean.getLevel(project)==i){
                        String classPath = classBean.getPackage(project).replace(".", "/");
                        dir = new java.io.File(projectPath+"/src/"+classPath);
                        dir.mkdir();

                        //Java Class
                        code = new gen.classbean.ClassBeanGen(project, classBean).getJavaCode();
                        fileGen = new java.io.FileOutputStream(projectPath+"/src/"+classPath+"/"+classBean.getName()+".java");
                        fileGen.write(code.getBytes("UTF-8"));
                        fileGen.close();
                        
                        //DAO
                        code = new gen.dao.ClassDAOGen_hsqldb(project, classBean).getJavaCode();
                        fileGen = new java.io.FileOutputStream(projectPath+"/src/"+classPath+"/"+classBean.getName()+"DAO.java");
                        fileGen.write(code.getBytes("UTF-8"));
                        fileGen.close();

                        //Form.java
                        code = new gen.gui.ClassFormGen(project, classBean).getJavaCode();
                        fileGen = new java.io.FileOutputStream(projectPath+"/src/"+classPath+"/"+classBean.getName()+"Form.java");
                        fileGen.write(code.getBytes("UTF-8"));
                        fileGen.close();
                        //Form.form
                        code = new gen.gui.XMLFormGen(project, classBean).getXMLCode();
                        fileGen = new java.io.FileOutputStream(projectPath+"/src/"+classPath+"/"+classBean.getName()+"Form.form");
                        fileGen.write(code.getBytes("UTF-8"));
                        fileGen.close();
                        //Tab.java
                        if(!classBean.isDependent(project))
                            //code = new gen.gui.ClassTabGen(project, classBean).getJavaCode();
                            code = new gen.gui.ClassTabViewGen(project, classBean).getJavaCode();
                        else
                            code = new gen.gui.ClassTabDependentGen(project, classBean).getJavaCode();
                        fileGen = new java.io.FileOutputStream(projectPath+"/src/"+classPath+"/"+classBean.getName()+"Tab.java");
                        fileGen.write(code.getBytes("UTF-8"));
                        fileGen.close();
                        //Tab.form
                        if(!classBean.isDependent(project))
                            //code = new gen.gui.XMLTabGen(project, classBean).getXMLCode();
                            code = new gen.gui.XMLTabViewGen(project, classBean).getXMLCode();
                        else
                            code = new gen.gui.XMLTabDependentGen(project, classBean).getXMLCode();
                        fileGen = new java.io.FileOutputStream(projectPath+"/src/"+classPath+"/"+classBean.getName()+"Tab.form");
                        fileGen.write(code.getBytes("UTF-8"));
                        fileGen.close();
                    }
                }
            }
            
        } else {
            throw new java.io.IOException("Folder is already exists!");
        }
    }
    
    /**
     * Copy a file from current JAR to destination folder
     * @param source
     * @param destination
     * @throws java.io.IOException 
     */
    private void copy(String source, String destination) throws java.io.IOException {
        java.io.InputStream resource = getClass().getClassLoader().getResourceAsStream(source);
        if (resource == null) {
            throw new java.io.IOException("Resource not found: " + source);
        }
        java.io.BufferedInputStream input = new java.io.BufferedInputStream(resource);
        java.io.BufferedOutputStream output = new java.io.BufferedOutputStream(new java.io.FileOutputStream(new java.io.File(destination)));
        byte[] buffer = new byte[1024];
        int length;
        while ((length = input.read(buffer)) > 0) {
            output.write(buffer, 0, length);
        }
        output.close();
        input.close();
    }
    
    /**
     * project/manifest.mf
     * @return code
     */
    public String get_manifest_mf(){
        String code = "";
        code += "Manifest-Version: 1.0\n";
        code += "X-COMMENT: Main-Class will be added automatically by build\n";
        return code;
    }

    /**
     * project/build.xml
     * @return code
     */
    public String get_build_xml(){
        String code = "";
        code += "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n";
        code += "<!-- You may freely edit this file. See commented blocks below for -->\n";
        code += "<!-- some examples of how to customize the build. -->\n";
        code += "<!-- (If you delete it and reopen the project it will be recreated.) -->\n";
        code += "<!-- By default, only the Clean and Build commands use this build script. -->\n";
        code += "<!-- Commands such as Run, Debug, and Test only use this build script if -->\n";
        code += "<!-- the Compile on Save feature is turned off for the project. -->\n";
        code += "<!-- You can turn off the Compile on Save (or Deploy on Save) setting -->\n";
        code += "<!-- in the project's Project Properties dialog box.-->\n";
        code += "<project name=\""+project.getName()+"\" default=\"default\" basedir=\".\">\n";
        code += "    <description>Builds, tests, and runs the project "+project.getName()+".</description>\n";
        code += "    <import file=\"nbproject/build-impl.xml\"/>\n";
        code += "    <!--\n";
        code += "    There exist several targets which are by default empty and which can be \n";
        code += "    used for execution of your tasks. These targets are usually executed \n";
        code += "    before and after some main targets. They are: \n";
        code += "      -pre-init:                 called before initialization of project properties\n";
        code += "      -post-init:                called after initialization of project properties\n";
        code += "      -pre-compile:              called before javac compilation\n";
        code += "      -post-compile:             called after javac compilation\n";
        code += "      -pre-compile-single:       called before javac compilation of single file\n";
        code += "      -post-compile-single:      called after javac compilation of single file\n";
        code += "      -pre-compile-test:         called before javac compilation of JUnit tests\n";
        code += "      -post-compile-test:        called after javac compilation of JUnit tests\n";
        code += "      -pre-compile-test-single:  called before javac compilation of single JUnit test\n";
        code += "      -post-compile-test-single: called after javac compilation of single JUunit test\n";
        code += "      -pre-jar:                  called before JAR building\n";
        code += "      -post-jar:                 called after JAR building\n";
        code += "      -post-clean:               called after cleaning build products\n";
        code += "    (Targets beginning with '-' are not intended to be called on their own.)\n";
        code += "    Example of inserting an obfuscator after compilation could look like this:\n";
        code += "        <target name=\"-post-compile\">\n";
        code += "            <obfuscate>\n";
        code += "                <fileset dir=\"${build.classes.dir}\"/>\n";
        code += "            </obfuscate>\n";
        code += "        </target>\n";
        code += "    For list of available properties check the imported \n";
        code += "    nbproject/build-impl.xml file. \n";
        code += "    Another way to customize the build is by overriding existing main targets.\n";
        code += "    The targets of interest are: \n";
        code += "      -init-macrodef-javac:     defines macro for javac compilation\n";
        code += "      -init-macrodef-junit:     defines macro for junit execution\n";
        code += "      -init-macrodef-debug:     defines macro for class debugging\n";
        code += "      -init-macrodef-java:      defines macro for class execution\n";
        code += "      -do-jar-with-manifest:    JAR building (if you are using a manifest)\n";
        code += "      -do-jar-without-manifest: JAR building (if you are not using a manifest)\n";
        code += "      run:                      execution of project \n";
        code += "      -javadoc-build:           Javadoc generation\n";
        code += "      test-report:              JUnit report generation\n";
        code += "    An example of overriding the target for project execution could look like this:\n";
        code += "        <target name=\"run\" depends=\""+project.getName()+"-impl.jar\">\n";
        code += "            <exec dir=\"bin\" executable=\"launcher.exe\">\n";
        code += "                <arg file=\"${dist.jar}\"/>\n";
        code += "            </exec>\n";
        code += "        </target>\n";
        code += "    Notice that the overridden target depends on the jar target and not only on \n";
        code += "    the compile target as the regular run target does. Again, for a list of available \n";
        code += "    properties which you can use, check the target you are overriding in the\n";
        code += "    nbproject/build-impl.xml file. \n";
        code += "    -->\n";
        code += "</project>\n";
        return code;
    }
    
    /**
     * project/nbproject/build-impl.xml
     * @return code
     */
    public String get_nbproject_build_impl_xml(){
        String code = "";
        code += "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n";
        code += "<!--\n";
        code += "*** GENERATED FROM project.xml - DO NOT EDIT  ***\n";
        code += "***         EDIT ../build.xml INSTEAD         ***\n";
        code += "For the purpose of easier reading the script\n";
        code += "is divided into following sections:\n";
        code += "  - initialization\n";
        code += "  - compilation\n";
        code += "  - jar\n";
        code += "  - execution\n";
        code += "  - debugging\n";
        code += "  - javadoc\n";
        code += "  - junit compilation\n";
        code += "  - junit execution\n";
        code += "  - junit debugging\n";
        code += "  - applet\n";
        code += "  - cleanup\n";
        code += "        -->\n";
        code += "<project xmlns:j2seproject1=\"http://www.netbeans.org/ns/j2se-project/1\" xmlns:j2seproject3=\"http://www.netbeans.org/ns/j2se-project/3\" xmlns:jaxrpc=\"http://www.netbeans.org/ns/j2se-project/jax-rpc\" basedir=\"..\" default=\"default\" name=\""+project.getName()+"-impl\">\n";
        code += "    <fail message=\"Please build using Ant 1.7.1 or higher.\">\n";
        code += "        <condition>\n";
        code += "            <not>\n";
        code += "                <antversion atleast=\"1.7.1\"/>\n";
        code += "            </not>\n";
        code += "        </condition>\n";
        code += "    </fail>\n";
        code += "    <target depends=\"test,jar,javadoc\" description=\"Build and test whole project.\" name=\"default\"/>\n";
        code += "    <!-- \n";
        code += "                ======================\n";
        code += "                INITIALIZATION SECTION \n";
        code += "                ======================\n";
        code += "            -->\n";
        code += "    <target name=\"-pre-init\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"-pre-init\" name=\"-init-private\">\n";
        code += "        <property file=\"nbproject/private/config.properties\"/>\n";
        code += "        <property file=\"nbproject/private/configs/${config}.properties\"/>\n";
        code += "        <property file=\"nbproject/private/private.properties\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-pre-init,-init-private\" name=\"-init-user\">\n";
        code += "        <property file=\"${user.properties.file}\"/>\n";
        code += "        <!-- The two properties below are usually overridden -->\n";
        code += "        <!-- by the active platform. Just a fallback. -->\n";
        code += "        <property name=\"default.javac.source\" value=\"1.4\"/>\n";
        code += "        <property name=\"default.javac.target\" value=\"1.4\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-pre-init,-init-private,-init-user\" name=\"-init-project\">\n";
        code += "        <property file=\"nbproject/configs/${config}.properties\"/>\n";
        code += "        <property file=\"nbproject/project.properties\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-pre-init,-init-private,-init-user,-init-project,-init-macrodef-property\" name=\"-do-init\">\n";
        code += "        <available file=\"${manifest.file}\" property=\"manifest.available\"/>\n";
        code += "        <condition property=\"splashscreen.available\">\n";
        code += "            <and>\n";
        code += "                <not>\n";
        code += "                    <equals arg1=\"${application.splash}\" arg2=\"\" trim=\"true\"/>\n";
        code += "                </not>\n";
        code += "                <available file=\"${application.splash}\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"main.class.available\">\n";
        code += "            <and>\n";
        code += "                <isset property=\"main.class\"/>\n";
        code += "                <not>\n";
        code += "                    <equals arg1=\"${main.class}\" arg2=\"\" trim=\"true\"/>\n";
        code += "                </not>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"manifest.available+main.class\">\n";
        code += "            <and>\n";
        code += "                <isset property=\"manifest.available\"/>\n";
        code += "                <isset property=\"main.class.available\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"do.archive\">\n";
        code += "            <not>\n";
        code += "                <istrue value=\"${jar.archive.disabled}\"/>\n";
        code += "            </not>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"do.mkdist\">\n";
        code += "            <and>\n";
        code += "                <isset property=\"do.archive\"/>\n";
        code += "                <isset property=\"libs.CopyLibs.classpath\"/>\n";
        code += "                <not>\n";
        code += "                    <istrue value=\"${mkdist.disabled}\"/>\n";
        code += "                </not>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"manifest.available+main.class+mkdist.available\">\n";
        code += "            <and>\n";
        code += "                <istrue value=\"${manifest.available+main.class}\"/>\n";
        code += "                <isset property=\"do.mkdist\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"do.archive+manifest.available\">\n";
        code += "            <and>\n";
        code += "                <isset property=\"manifest.available\"/>\n";
        code += "                <istrue value=\"${do.archive}\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"do.archive+main.class.available\">\n";
        code += "            <and>\n";
        code += "                <isset property=\"main.class.available\"/>\n";
        code += "                <istrue value=\"${do.archive}\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"do.archive+splashscreen.available\">\n";
        code += "            <and>\n";
        code += "                <isset property=\"splashscreen.available\"/>\n";
        code += "                <istrue value=\"${do.archive}\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"do.archive+manifest.available+main.class\">\n";
        code += "            <and>\n";
        code += "                <istrue value=\"${manifest.available+main.class}\"/>\n";
        code += "                <istrue value=\"${do.archive}\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"manifest.available-mkdist.available\">\n";
        code += "            <or>\n";
        code += "                <istrue value=\"${manifest.available}\"/>\n";
        code += "                <isset property=\"do.mkdist\"/>\n";
        code += "            </or>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"manifest.available+main.class-mkdist.available\">\n";
        code += "            <or>\n";
        code += "                <istrue value=\"${manifest.available+main.class}\"/>\n";
        code += "                <isset property=\"do.mkdist\"/>\n";
        code += "            </or>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"have.tests\">\n";
        code += "            <or>\n";
        code += "                <available file=\"${test.src.dir}\"/>\n";
        code += "            </or>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"have.sources\">\n";
        code += "            <or>\n";
        code += "                <available file=\"${src.dir}\"/>\n";
        code += "            </or>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"netbeans.home+have.tests\">\n";
        code += "            <and>\n";
        code += "                <isset property=\"netbeans.home\"/>\n";
        code += "                <isset property=\"have.tests\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <condition property=\"no.javadoc.preview\">\n";
        code += "            <and>\n";
        code += "                <isset property=\"javadoc.preview\"/>\n";
        code += "                <isfalse value=\"${javadoc.preview}\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <property name=\"run.jvmargs\" value=\"\"/>\n";
        code += "        <property name=\"javac.compilerargs\" value=\"\"/>\n";
        code += "        <property name=\"work.dir\" value=\"${basedir}\"/>\n";
        code += "        <condition property=\"no.deps\">\n";
        code += "            <and>\n";
        code += "                <istrue value=\"${no.dependencies}\"/>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <property name=\"javac.debug\" value=\"true\"/>\n";
        code += "        <property name=\"javadoc.preview\" value=\"true\"/>\n";
        code += "        <property name=\"application.args\" value=\"\"/>\n";
        code += "        <property name=\"source.encoding\" value=\"${file.encoding}\"/>\n";
        code += "        <property name=\"runtime.encoding\" value=\"${source.encoding}\"/>\n";
        code += "        <condition property=\"javadoc.encoding.used\" value=\"${javadoc.encoding}\">\n";
        code += "            <and>\n";
        code += "                <isset property=\"javadoc.encoding\"/>\n";
        code += "                <not>\n";
        code += "                    <equals arg1=\"${javadoc.encoding}\" arg2=\"\"/>\n";
        code += "                </not>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <property name=\"javadoc.encoding.used\" value=\"${source.encoding}\"/>\n";
        code += "        <property name=\"includes\" value=\"**\"/>\n";
        code += "        <property name=\"excludes\" value=\"\"/>\n";
        code += "        <property name=\"do.depend\" value=\"false\"/>\n";
        code += "        <condition property=\"do.depend.true\">\n";
        code += "            <istrue value=\"${do.depend}\"/>\n";
        code += "        </condition>\n";
        code += "        <path id=\"endorsed.classpath.path\" path=\"${endorsed.classpath}\"/>\n";
        code += "        <condition else=\"\" property=\"endorsed.classpath.cmd.line.arg\" value=\"-Xbootclasspath/p:'${toString:endorsed.classpath.path}'\">\n";
        code += "            <length length=\"0\" string=\"${endorsed.classpath}\" when=\"greater\"/>\n";
        code += "        </condition>\n";
        code += "        <condition else=\"false\" property=\"jdkBug6558476\">\n";
        code += "            <and>\n";
        code += "                <matches pattern=\"1\\.[56]\" string=\"${java.specification.version}\"/>\n";
        code += "                <not>\n";
        code += "                    <os family=\"unix\"/>\n";
        code += "                </not>\n";
        code += "            </and>\n";
        code += "        </condition>\n";
        code += "        <property name=\"javac.fork\" value=\"${jdkBug6558476}\"/>\n";
        code += "        <property name=\"jar.index\" value=\"false\"/>\n";
        code += "        <property name=\"jar.index.metainf\" value=\"${jar.index}\"/>\n";
        code += "        <available file=\"${meta.inf.dir}/persistence.xml\" property=\"has.persistence.xml\"/>\n";
        code += "    </target>\n";
        code += "    <target name=\"-post-init\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"-pre-init,-init-private,-init-user,-init-project,-do-init\" name=\"-init-check\">\n";
        code += "        <fail unless=\"src.dir\">Must set src.dir</fail>\n";
        code += "        <fail unless=\"test.src.dir\">Must set test.src.dir</fail>\n";
        code += "        <fail unless=\"build.dir\">Must set build.dir</fail>\n";
        code += "        <fail unless=\"dist.dir\">Must set dist.dir</fail>\n";
        code += "        <fail unless=\"build.classes.dir\">Must set build.classes.dir</fail>\n";
        code += "        <fail unless=\"dist.javadoc.dir\">Must set dist.javadoc.dir</fail>\n";
        code += "        <fail unless=\"build.test.classes.dir\">Must set build.test.classes.dir</fail>\n";
        code += "        <fail unless=\"build.test.results.dir\">Must set build.test.results.dir</fail>\n";
        code += "        <fail unless=\"build.classes.excludes\">Must set build.classes.excludes</fail>\n";
        code += "        <fail unless=\"dist.jar\">Must set dist.jar</fail>\n";
        code += "    </target>\n";
        code += "    <target name=\"-init-macrodef-property\">\n";
        code += "        <macrodef name=\"property\" uri=\"http://www.netbeans.org/ns/j2se-project/1\">\n";
        code += "            <attribute name=\"name\"/>\n";
        code += "            <attribute name=\"value\"/>\n";
        code += "            <sequential>\n";
        code += "                <property name=\"@{name}\" value=\"${@{value}}\"/>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-init-ap-cmdline-properties\" if=\"ap.supported.internal\" name=\"-init-macrodef-javac-with-processors\">\n";
        code += "        <macrodef name=\"javac\" uri=\"http://www.netbeans.org/ns/j2se-project/3\">\n";
        code += "            <attribute default=\"${src.dir}\" name=\"srcdir\"/>\n";
        code += "            <attribute default=\"${build.classes.dir}\" name=\"destdir\"/>\n";
        code += "            <attribute default=\"${javac.classpath}\" name=\"classpath\"/>\n";
        code += "            <attribute default=\"${javac.processorpath}\" name=\"processorpath\"/>\n";
        code += "            <attribute default=\"${build.generated.sources.dir}/ap-source-output\" name=\"apgeneratedsrcdir\"/>\n";
        code += "            <attribute default=\"${includes}\" name=\"includes\"/>\n";
        code += "            <attribute default=\"${excludes}\" name=\"excludes\"/>\n";
        code += "            <attribute default=\"${javac.debug}\" name=\"debug\"/>\n";
        code += "            <attribute default=\"${empty.dir}\" name=\"sourcepath\"/>\n";
        code += "            <attribute default=\"${empty.dir}\" name=\"gensrcdir\"/>\n";
        code += "            <element name=\"customize\" optional=\"true\"/>\n";
        code += "            <sequential>\n";
        code += "                <property location=\"${build.dir}/empty\" name=\"empty.dir\"/>\n";
        code += "                <mkdir dir=\"${empty.dir}\"/>\n";
        code += "                <mkdir dir=\"@{apgeneratedsrcdir}\"/>\n";
        code += "                <javac debug=\"@{debug}\" deprecation=\"${javac.deprecation}\" destdir=\"@{destdir}\" encoding=\"${source.encoding}\" excludes=\"@{excludes}\" fork=\"${javac.fork}\" includeantruntime=\"false\" includes=\"@{includes}\" source=\"${javac.source}\" sourcepath=\"@{sourcepath}\" srcdir=\"@{srcdir}\" target=\"${javac.target}\" tempdir=\"${java.io.tmpdir}\">\n";
        code += "                    <src>\n";
        code += "                        <dirset dir=\"@{gensrcdir}\" erroronmissingdir=\"false\">\n";
        code += "                            <include name=\"*\"/>\n";
        code += "                        </dirset>\n";
        code += "                    </src>\n";
        code += "                    <classpath>\n";
        code += "                        <path path=\"@{classpath}\"/>\n";
        code += "                    </classpath>\n";
        code += "                    <compilerarg line=\"${endorsed.classpath.cmd.line.arg}\"/>\n";
        code += "                    <compilerarg line=\"${javac.compilerargs}\"/>\n";
        code += "                    <compilerarg value=\"-processorpath\"/>\n";
        code += "                    <compilerarg path=\"@{processorpath}:${empty.dir}\"/>\n";
        code += "                    <compilerarg line=\"${ap.processors.internal}\"/>\n";
        code += "                    <compilerarg line=\"${annotation.processing.processor.options}\"/>\n";
        code += "                    <compilerarg value=\"-s\"/>\n";
        code += "                    <compilerarg path=\"@{apgeneratedsrcdir}\"/>\n";
        code += "                    <compilerarg line=\"${ap.proc.none.internal}\"/>\n";
        code += "                    <customize/>\n";
        code += "                </javac>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-init-ap-cmdline-properties\" name=\"-init-macrodef-javac-without-processors\" unless=\"ap.supported.internal\">\n";
        code += "        <macrodef name=\"javac\" uri=\"http://www.netbeans.org/ns/j2se-project/3\">\n";
        code += "            <attribute default=\"${src.dir}\" name=\"srcdir\"/>\n";
        code += "            <attribute default=\"${build.classes.dir}\" name=\"destdir\"/>\n";
        code += "            <attribute default=\"${javac.classpath}\" name=\"classpath\"/>\n";
        code += "            <attribute default=\"${javac.processorpath}\" name=\"processorpath\"/>\n";
        code += "            <attribute default=\"${build.generated.sources.dir}/ap-source-output\" name=\"apgeneratedsrcdir\"/>\n";
        code += "            <attribute default=\"${includes}\" name=\"includes\"/>\n";
        code += "            <attribute default=\"${excludes}\" name=\"excludes\"/>\n";
        code += "            <attribute default=\"${javac.debug}\" name=\"debug\"/>\n";
        code += "            <attribute default=\"${empty.dir}\" name=\"sourcepath\"/>\n";
        code += "            <attribute default=\"${empty.dir}\" name=\"gensrcdir\"/>\n";
        code += "            <element name=\"customize\" optional=\"true\"/>\n";
        code += "            <sequential>\n";
        code += "                <property location=\"${build.dir}/empty\" name=\"empty.dir\"/>\n";
        code += "                <mkdir dir=\"${empty.dir}\"/>\n";
        code += "                <javac debug=\"@{debug}\" deprecation=\"${javac.deprecation}\" destdir=\"@{destdir}\" encoding=\"${source.encoding}\" excludes=\"@{excludes}\" fork=\"${javac.fork}\" includeantruntime=\"false\" includes=\"@{includes}\" source=\"${javac.source}\" sourcepath=\"@{sourcepath}\" srcdir=\"@{srcdir}\" target=\"${javac.target}\" tempdir=\"${java.io.tmpdir}\">\n";
        code += "                    <src>\n";
        code += "                        <dirset dir=\"@{gensrcdir}\" erroronmissingdir=\"false\">\n";
        code += "                            <include name=\"*\"/>\n";
        code += "                        </dirset>\n";
        code += "                    </src>\n";
        code += "                    <classpath>\n";
        code += "                        <path path=\"@{classpath}\"/>\n";
        code += "                    </classpath>\n";
        code += "                    <compilerarg line=\"${endorsed.classpath.cmd.line.arg}\"/>\n";
        code += "                    <compilerarg line=\"${javac.compilerargs}\"/>\n";
        code += "                    <customize/>\n";
        code += "                </javac>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-init-macrodef-javac-with-processors,-init-macrodef-javac-without-processors\" name=\"-init-macrodef-javac\">\n";
        code += "        <macrodef name=\"depend\" uri=\"http://www.netbeans.org/ns/j2se-project/3\">\n";
        code += "            <attribute default=\"${src.dir}\" name=\"srcdir\"/>\n";
        code += "            <attribute default=\"${build.classes.dir}\" name=\"destdir\"/>\n";
        code += "            <attribute default=\"${javac.classpath}\" name=\"classpath\"/>\n";
        code += "            <sequential>\n";
        code += "                <depend cache=\"${build.dir}/depcache\" destdir=\"@{destdir}\" excludes=\"${excludes}\" includes=\"${includes}\" srcdir=\"@{srcdir}\">\n";
        code += "                    <classpath>\n";
        code += "                        <path path=\"@{classpath}\"/>\n";
        code += "                    </classpath>\n";
        code += "                </depend>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "        <macrodef name=\"force-recompile\" uri=\"http://www.netbeans.org/ns/j2se-project/3\">\n";
        code += "            <attribute default=\"${build.classes.dir}\" name=\"destdir\"/>\n";
        code += "            <sequential>\n";
        code += "                <fail unless=\"javac.includes\">Must set javac.includes</fail>\n";
        code += "                <pathconvert pathsep=\"${line.separator}\" property=\"javac.includes.binary\">\n";
        code += "                    <path>\n";
        code += "                        <filelist dir=\"@{destdir}\" files=\"${javac.includes}\"/>\n";
        code += "                    </path>\n";
        code += "                    <globmapper from=\"*.java\" to=\"*.class\"/>\n";
        code += "                </pathconvert>\n";
        code += "                <tempfile deleteonexit=\"true\" property=\"javac.includesfile.binary\"/>\n";
        code += "                <echo file=\"${javac.includesfile.binary}\" message=\"${javac.includes.binary}\"/>\n";
        code += "                <delete>\n";
        code += "                    <files includesfile=\"${javac.includesfile.binary}\"/>\n";
        code += "                </delete>\n";
        code += "                <delete>\n";
        code += "                    <fileset file=\"${javac.includesfile.binary}\"/>\n";
        code += "                </delete>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target name=\"-init-macrodef-junit\">\n";
        code += "        <macrodef name=\"junit\" uri=\"http://www.netbeans.org/ns/j2se-project/3\">\n";
        code += "            <attribute default=\"${includes}\" name=\"includes\"/>\n";
        code += "            <attribute default=\"${excludes}\" name=\"excludes\"/>\n";
        code += "            <attribute default=\"**\" name=\"testincludes\"/>\n";
        code += "            <sequential>\n";
        code += "                <property name=\"junit.forkmode\" value=\"perTest\"/>\n";
        code += "                <junit dir=\"${work.dir}\" errorproperty=\"tests.failed\" failureproperty=\"tests.failed\" fork=\"true\" forkmode=\"${junit.forkmode}\" showoutput=\"true\" tempdir=\"${build.dir}\">\n";
        code += "                    <batchtest todir=\"${build.test.results.dir}\">\n";
        code += "                        <fileset dir=\"${test.src.dir}\" excludes=\"@{excludes},${excludes}\" includes=\"@{includes}\">\n";
        code += "                            <filename name=\"@{testincludes}\"/>\n";
        code += "                        </fileset>\n";
        code += "                    </batchtest>\n";
        code += "                    <classpath>\n";
        code += "                        <path path=\"${run.test.classpath}\"/>\n";
        code += "                    </classpath>\n";
        code += "                    <syspropertyset>\n";
        code += "                        <propertyref prefix=\"test-sys-prop.\"/>\n";
        code += "                        <mapper from=\"test-sys-prop.*\" to=\"*\" type=\"glob\"/>\n";
        code += "                    </syspropertyset>\n";
        code += "                    <formatter type=\"brief\" usefile=\"false\"/>\n";
        code += "                    <formatter type=\"xml\"/>\n";
        code += "                    <jvmarg line=\"${endorsed.classpath.cmd.line.arg}\"/>\n";
        code += "                    <jvmarg value=\"-ea\"/>\n";
        code += "                    <jvmarg line=\"${run.jvmargs}\"/>\n";
        code += "                </junit>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-profile-pre-init, init, -profile-post-init, -profile-init-macrodef-profile, -profile-init-check\" name=\"profile-init\"/>\n";
        code += "    <target name=\"-profile-pre-init\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target name=\"-profile-post-init\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target name=\"-profile-init-macrodef-profile\">\n";
        code += "        <macrodef name=\"resolve\">\n";
        code += "            <attribute name=\"name\"/>\n";
        code += "            <attribute name=\"value\"/>\n";
        code += "            <sequential>\n";
        code += "                <property name=\"@{name}\" value=\"${env.@{value}}\"/>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "        <macrodef name=\"profile\">\n";
        code += "            <attribute default=\"${main.class}\" name=\"classname\"/>\n";
        code += "            <element name=\"customize\" optional=\"true\"/>\n";
        code += "            <sequential>\n";
        code += "                <property environment=\"env\"/>\n";
        code += "                <resolve name=\"profiler.current.path\" value=\"${profiler.info.pathvar}\"/>\n";
        code += "                <java classname=\"@{classname}\" dir=\"${profiler.info.dir}\" fork=\"true\" jvm=\"${profiler.info.jvm}\">\n";
        code += "                    <jvmarg value=\"${profiler.info.jvmargs.agent}\"/>\n";
        code += "                    <jvmarg line=\"${profiler.info.jvmargs}\"/>\n";
        code += "                    <env key=\"${profiler.info.pathvar}\" path=\"${profiler.info.agentpath}:${profiler.current.path}\"/>\n";
        code += "                    <arg line=\"${application.args}\"/>\n";
        code += "                    <classpath>\n";
        code += "                        <path path=\"${run.classpath}\"/>\n";
        code += "                    </classpath>\n";
        code += "                    <syspropertyset>\n";
        code += "                        <propertyref prefix=\"run-sys-prop.\"/>\n";
        code += "                        <mapper from=\"run-sys-prop.*\" to=\"*\" type=\"glob\"/>\n";
        code += "                    </syspropertyset>\n";
        code += "                    <customize/>\n";
        code += "                </java>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-profile-pre-init, init, -profile-post-init, -profile-init-macrodef-profile\" name=\"-profile-init-check\">\n";
        code += "        <fail unless=\"profiler.info.jvm\">Must set JVM to use for profiling in profiler.info.jvm</fail>\n";
        code += "        <fail unless=\"profiler.info.jvmargs.agent\">Must set profiler agent JVM arguments in profiler.info.jvmargs.agent</fail>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-init-debug-args\" name=\"-init-macrodef-nbjpda\">\n";
        code += "        <macrodef name=\"nbjpdastart\" uri=\"http://www.netbeans.org/ns/j2se-project/1\">\n";
        code += "            <attribute default=\"${main.class}\" name=\"name\"/>\n";
        code += "            <attribute default=\"${debug.classpath}\" name=\"classpath\"/>\n";
        code += "            <attribute default=\"\" name=\"stopclassname\"/>\n";
        code += "            <sequential>\n";
        code += "                <nbjpdastart addressproperty=\"jpda.address\" name=\"@{name}\" stopclassname=\"@{stopclassname}\" transport=\"${debug-transport}\">\n";
        code += "                    <classpath>\n";
        code += "                        <path path=\"@{classpath}\"/>\n";
        code += "                    </classpath>\n";
        code += "                </nbjpdastart>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "        <macrodef name=\"nbjpdareload\" uri=\"http://www.netbeans.org/ns/j2se-project/1\">\n";
        code += "            <attribute default=\"${build.classes.dir}\" name=\"dir\"/>\n";
        code += "            <sequential>\n";
        code += "                <nbjpdareload>\n";
        code += "                    <fileset dir=\"@{dir}\" includes=\"${fix.classes}\">\n";
        code += "                        <include name=\"${fix.includes}*.class\"/>\n";
        code += "                    </fileset>\n";
        code += "                </nbjpdareload>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target name=\"-init-debug-args\">\n";
        code += "        <property name=\"version-output\" value=\"java version &quot;${ant.java.version}\"/>\n";
        code += "        <condition property=\"have-jdk-older-than-1.4\">\n";
        code += "            <or>\n";
        code += "                <contains string=\"${version-output}\" substring=\"java version &quot;1.0\"/>\n";
        code += "                <contains string=\"${version-output}\" substring=\"java version &quot;1.1\"/>\n";
        code += "                <contains string=\"${version-output}\" substring=\"java version &quot;1.2\"/>\n";
        code += "                <contains string=\"${version-output}\" substring=\"java version &quot;1.3\"/>\n";
        code += "            </or>\n";
        code += "        </condition>\n";
        code += "        <condition else=\"-Xdebug\" property=\"debug-args-line\" value=\"-Xdebug -Xnoagent -Djava.compiler=none\">\n";
        code += "            <istrue value=\"${have-jdk-older-than-1.4}\"/>\n";
        code += "        </condition>\n";
        code += "        <condition else=\"dt_socket\" property=\"debug-transport-by-os\" value=\"dt_shmem\">\n";
        code += "            <os family=\"windows\"/>\n";
        code += "        </condition>\n";
        code += "        <condition else=\"${debug-transport-by-os}\" property=\"debug-transport\" value=\"${debug.transport}\">\n";
        code += "            <isset property=\"debug.transport\"/>\n";
        code += "        </condition>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-init-debug-args\" name=\"-init-macrodef-debug\">\n";
        code += "        <macrodef name=\"debug\" uri=\"http://www.netbeans.org/ns/j2se-project/3\">\n";
        code += "            <attribute default=\"${main.class}\" name=\"classname\"/>\n";
        code += "            <attribute default=\"${debug.classpath}\" name=\"classpath\"/>\n";
        code += "            <element name=\"customize\" optional=\"true\"/>\n";
        code += "            <sequential>\n";
        code += "                <java classname=\"@{classname}\" dir=\"${work.dir}\" fork=\"true\">\n";
        code += "                    <jvmarg line=\"${endorsed.classpath.cmd.line.arg}\"/>\n";
        code += "                    <jvmarg line=\"${debug-args-line}\"/>\n";
        code += "                    <jvmarg value=\"-Xrunjdwp:transport=${debug-transport},address=${jpda.address}\"/>\n";
        code += "                    <jvmarg value=\"-Dfile.encoding=${runtime.encoding}\"/>\n";
        code += "                    <redirector errorencoding=\"${runtime.encoding}\" inputencoding=\"${runtime.encoding}\" outputencoding=\"${runtime.encoding}\"/>\n";
        code += "                    <jvmarg line=\"${run.jvmargs}\"/>\n";
        code += "                    <classpath>\n";
        code += "                        <path path=\"@{classpath}\"/>\n";
        code += "                    </classpath>\n";
        code += "                    <syspropertyset>\n";
        code += "                        <propertyref prefix=\"run-sys-prop.\"/>\n";
        code += "                        <mapper from=\"run-sys-prop.*\" to=\"*\" type=\"glob\"/>\n";
        code += "                    </syspropertyset>\n";
        code += "                    <customize/>\n";
        code += "                </java>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target name=\"-init-macrodef-java\">\n";
        code += "        <macrodef name=\"java\" uri=\"http://www.netbeans.org/ns/j2se-project/1\">\n";
        code += "            <attribute default=\"${main.class}\" name=\"classname\"/>\n";
        code += "            <attribute default=\"${run.classpath}\" name=\"classpath\"/>\n";
        code += "            <element name=\"customize\" optional=\"true\"/>\n";
        code += "            <sequential>\n";
        code += "                <java classname=\"@{classname}\" dir=\"${work.dir}\" fork=\"true\">\n";
        code += "                    <jvmarg line=\"${endorsed.classpath.cmd.line.arg}\"/>\n";
        code += "                    <jvmarg value=\"-Dfile.encoding=${runtime.encoding}\"/>\n";
        code += "                    <redirector errorencoding=\"${runtime.encoding}\" inputencoding=\"${runtime.encoding}\" outputencoding=\"${runtime.encoding}\"/>\n";
        code += "                    <jvmarg line=\"${run.jvmargs}\"/>\n";
        code += "                    <classpath>\n";
        code += "                        <path path=\"@{classpath}\"/>\n";
        code += "                    </classpath>\n";
        code += "                    <syspropertyset>\n";
        code += "                        <propertyref prefix=\"run-sys-prop.\"/>\n";
        code += "                        <mapper from=\"run-sys-prop.*\" to=\"*\" type=\"glob\"/>\n";
        code += "                    </syspropertyset>\n";
        code += "                    <customize/>\n";
        code += "                </java>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target name=\"-init-macrodef-copylibs\">\n";
        code += "        <macrodef name=\"copylibs\" uri=\"http://www.netbeans.org/ns/j2se-project/3\">\n";
        code += "            <attribute default=\"${manifest.file}\" name=\"manifest\"/>\n";
        code += "            <element name=\"customize\" optional=\"true\"/>\n";
        code += "            <sequential>\n";
        code += "                <property location=\"${build.classes.dir}\" name=\"build.classes.dir.resolved\"/>\n";
        code += "                <pathconvert property=\"run.classpath.without.build.classes.dir\">\n";
        code += "                    <path path=\"${run.classpath}\"/>\n";
        code += "                    <map from=\"${build.classes.dir.resolved}\" to=\"\"/>\n";
        code += "                </pathconvert>\n";
        code += "                <pathconvert pathsep=\" \" property=\"jar.classpath\">\n";
        code += "                    <path path=\"${run.classpath.without.build.classes.dir}\"/>\n";
        code += "                    <chainedmapper>\n";
        code += "                        <flattenmapper/>\n";
        code += "                        <globmapper from=\"*\" to=\"lib/*\"/>\n";
        code += "                    </chainedmapper>\n";
        code += "                </pathconvert>\n";
        code += "                <taskdef classname=\"org.netbeans.modules.java.j2seproject.copylibstask.CopyLibs\" classpath=\"${libs.CopyLibs.classpath}\" name=\"copylibs\"/>\n";
        code += "                <copylibs compress=\"${jar.compress}\" index=\"${jar.index}\" indexMetaInf=\"${jar.index.metainf}\" jarfile=\"${dist.jar}\" manifest=\"@{manifest}\" runtimeclasspath=\"${run.classpath.without.build.classes.dir}\">\n";
        code += "                    <fileset dir=\"${build.classes.dir}\"/>\n";
        code += "                    <manifest>\n";
        code += "                        <attribute name=\"Class-Path\" value=\"${jar.classpath}\"/>\n";
        code += "                        <customize/>\n";
        code += "                    </manifest>\n";
        code += "                </copylibs>\n";
        code += "            </sequential>\n";
        code += "        </macrodef>\n";
        code += "    </target>\n";
        code += "    <target name=\"-init-presetdef-jar\">\n";
        code += "        <presetdef name=\"jar\" uri=\"http://www.netbeans.org/ns/j2se-project/1\">\n";
        code += "            <jar compress=\"${jar.compress}\" index=\"${jar.index}\" jarfile=\"${dist.jar}\">\n";
        code += "                <j2seproject1:fileset dir=\"${build.classes.dir}\"/>\n";
        code += "            </jar>\n";
        code += "        </presetdef>\n";
        code += "    </target>\n";
        code += "    <target name=\"-init-ap-cmdline-properties\">\n";
        code += "        <property name=\"annotation.processing.enabled\" value=\"true\"/>\n";
        code += "        <property name=\"annotation.processing.processors.list\" value=\"\"/>\n";
        code += "        <property name=\"annotation.processing.processor.options\" value=\"\"/>\n";
        code += "        <property name=\"annotation.processing.run.all.processors\" value=\"true\"/>\n";
        code += "        <property name=\"javac.processorpath\" value=\"${javac.classpath}\"/>\n";
        code += "        <property name=\"javac.test.processorpath\" value=\"${javac.test.classpath}\"/>\n";
        code += "        <condition property=\"ap.supported.internal\" value=\"true\">\n";
        code += "            <not>\n";
        code += "                <matches pattern=\"1\\.[0-5](\\..*)?\" string=\"${javac.source}\"/>\n";
        code += "            </not>\n";
        code += "        </condition>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-init-ap-cmdline-properties\" if=\"ap.supported.internal\" name=\"-init-ap-cmdline-supported\">\n";
        code += "        <condition else=\"\" property=\"ap.processors.internal\" value=\"-processor ${annotation.processing.processors.list}\">\n";
        code += "            <isfalse value=\"${annotation.processing.run.all.processors}\"/>\n";
        code += "        </condition>\n";
        code += "        <condition else=\"\" property=\"ap.proc.none.internal\" value=\"-proc:none\">\n";
        code += "            <isfalse value=\"${annotation.processing.enabled}\"/>\n";
        code += "        </condition>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-init-ap-cmdline-properties,-init-ap-cmdline-supported\" name=\"-init-ap-cmdline\">\n";
        code += "        <property name=\"ap.cmd.line.internal\" value=\"\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-pre-init,-init-private,-init-user,-init-project,-do-init,-post-init,-init-check,-init-macrodef-property,-init-macrodef-javac,-init-macrodef-junit,-init-macrodef-nbjpda,-init-macrodef-debug,-init-macrodef-java,-init-presetdef-jar,-init-ap-cmdline\" name=\"init\"/>\n";
        code += "    <!--\n";
        code += "                ===================\n";
        code += "                COMPILATION SECTION\n";
        code += "                ===================\n";
        code += "            -->\n";
        code += "    <target name=\"-deps-jar-init\" unless=\"built-jar.properties\">\n";
        code += "        <property location=\"${build.dir}/built-jar.properties\" name=\"built-jar.properties\"/>\n";
        code += "        <delete file=\"${built-jar.properties}\" quiet=\"true\"/>\n";
        code += "    </target>\n";
        code += "    <target if=\"already.built.jar.${basedir}\" name=\"-warn-already-built-jar\">\n";
        code += "        <echo level=\"warn\" message=\"Cycle detected: "+project.getName()+" was already built\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-deps-jar-init\" name=\"deps-jar\" unless=\"no.deps\">\n";
        code += "        <mkdir dir=\"${build.dir}\"/>\n";
        code += "        <touch file=\"${built-jar.properties}\" verbose=\"false\"/>\n";
        code += "        <property file=\"${built-jar.properties}\" prefix=\"already.built.jar.\"/>\n";
        code += "        <antcall target=\"-warn-already-built-jar\"/>\n";
        code += "        <propertyfile file=\"${built-jar.properties}\">\n";
        code += "            <entry key=\"${basedir}\" value=\"\"/>\n";
        code += "        </propertyfile>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-check-automatic-build,-clean-after-automatic-build\" name=\"-verify-automatic-build\"/>\n";
        code += "    <target depends=\"init\" name=\"-check-automatic-build\">\n";
        code += "        <available file=\"${build.classes.dir}/.netbeans_automatic_build\" property=\"netbeans.automatic.build\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init\" if=\"netbeans.automatic.build\" name=\"-clean-after-automatic-build\">\n";
        code += "        <antcall target=\"clean\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,deps-jar\" name=\"-pre-pre-compile\">\n";
        code += "        <mkdir dir=\"${build.classes.dir}\"/>\n";
        code += "    </target>\n";
        code += "    <target name=\"-pre-compile\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target if=\"do.depend.true\" name=\"-compile-depend\">\n";
        code += "        <pathconvert property=\"build.generated.subdirs\">\n";
        code += "            <dirset dir=\"${build.generated.sources.dir}\" erroronmissingdir=\"false\">\n";
        code += "                <include name=\"*\"/>\n";
        code += "            </dirset>\n";
        code += "        </pathconvert>\n";
        code += "        <j2seproject3:depend srcdir=\"${src.dir}:${build.generated.subdirs}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,deps-jar,-pre-pre-compile,-pre-compile, -copy-persistence-xml,-compile-depend\" if=\"have.sources\" name=\"-do-compile\">\n";
        code += "        <j2seproject3:javac gensrcdir=\"${build.generated.sources.dir}\"/>\n";
        code += "        <copy todir=\"${build.classes.dir}\">\n";
        code += "            <fileset dir=\"${src.dir}\" excludes=\"${build.classes.excludes},${excludes}\" includes=\"${includes}\"/>\n";
        code += "        </copy>\n";
        code += "    </target>\n";
        code += "    <target if=\"has.persistence.xml\" name=\"-copy-persistence-xml\">\n";
        code += "        <mkdir dir=\"${build.classes.dir}/META-INF\"/>\n";
        code += "        <copy todir=\"${build.classes.dir}/META-INF\">\n";
        code += "            <fileset dir=\"${meta.inf.dir}\" includes=\"persistence.xml\"/>\n";
        code += "        </copy>\n";
        code += "    </target>\n";
        code += "    <target name=\"-post-compile\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,deps-jar,-verify-automatic-build,-pre-pre-compile,-pre-compile,-do-compile,-post-compile\" description=\"Compile project.\" name=\"compile\"/>\n";
        code += "    <target name=\"-pre-compile-single\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,deps-jar,-pre-pre-compile\" name=\"-do-compile-single\">\n";
        code += "        <fail unless=\"javac.includes\">Must select some files in the IDE or set javac.includes</fail>\n";
        code += "        <j2seproject3:force-recompile/>\n";
        code += "        <j2seproject3:javac excludes=\"\" gensrcdir=\"${build.generated.sources.dir}\" includes=\"${javac.includes}\" sourcepath=\"${src.dir}\"/>\n";
        code += "    </target>\n";
        code += "    <target name=\"-post-compile-single\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,deps-jar,-verify-automatic-build,-pre-pre-compile,-pre-compile-single,-do-compile-single,-post-compile-single\" name=\"compile-single\"/>\n";
        code += "    <!--\n";
        code += "                ====================\n";
        code += "                JAR BUILDING SECTION\n";
        code += "                ====================\n";
        code += "            -->\n";
        code += "    <target depends=\"init\" name=\"-pre-pre-jar\">\n";
        code += "        <dirname file=\"${dist.jar}\" property=\"dist.jar.dir\"/>\n";
        code += "        <mkdir dir=\"${dist.jar.dir}\"/>\n";
        code += "    </target>\n";
        code += "    <target name=\"-pre-jar\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile,-pre-pre-jar,-pre-jar\" if=\"do.archive\" name=\"-do-jar-without-manifest\" unless=\"manifest.available-mkdist.available\">\n";
        code += "        <j2seproject1:jar/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile,-pre-pre-jar,-pre-jar\" if=\"do.archive+manifest.available\" name=\"-do-jar-with-manifest\" unless=\"manifest.available+main.class-mkdist.available\">\n";
        code += "        <j2seproject1:jar manifest=\"${manifest.file}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile,-pre-pre-jar,-pre-jar\" if=\"do.archive+manifest.available+main.class\" name=\"-do-jar-with-mainclass\" unless=\"manifest.available+main.class+mkdist.available\">\n";
        code += "        <j2seproject1:jar manifest=\"${manifest.file}\">\n";
        code += "            <j2seproject1:manifest>\n";
        code += "                <j2seproject1:attribute name=\"Main-Class\" value=\"${main.class}\"/>\n";
        code += "            </j2seproject1:manifest>\n";
        code += "        </j2seproject1:jar>\n";
        code += "        <echo level=\"info\">To run this application from the command line without Ant, try:</echo>\n";
        code += "        <property location=\"${build.classes.dir}\" name=\"build.classes.dir.resolved\"/>\n";
        code += "        <property location=\"${dist.jar}\" name=\"dist.jar.resolved\"/>\n";
        code += "        <pathconvert property=\"run.classpath.with.dist.jar\">\n";
        code += "            <path path=\"${run.classpath}\"/>\n";
        code += "            <map from=\"${build.classes.dir.resolved}\" to=\"${dist.jar.resolved}\"/>\n";
        code += "        </pathconvert>\n";
        code += "        <echo level=\"info\">java -cp \"${run.classpath.with.dist.jar}\" ${main.class}</echo>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init\" if=\"do.archive\" name=\"-do-jar-with-libraries-create-manifest\" unless=\"manifest.available\">\n";
        code += "        <tempfile deleteonexit=\"true\" destdir=\"${build.dir}\" property=\"tmp.manifest.file\"/>\n";
        code += "        <touch file=\"${tmp.manifest.file}\" verbose=\"false\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init\" if=\"do.archive+manifest.available\" name=\"-do-jar-with-libraries-copy-manifest\">\n";
        code += "        <tempfile deleteonexit=\"true\" destdir=\"${build.dir}\" property=\"tmp.manifest.file\"/>\n";
        code += "        <copy file=\"${manifest.file}\" tofile=\"${tmp.manifest.file}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-do-jar-with-libraries-create-manifest,-do-jar-with-libraries-copy-manifest\" if=\"do.archive+main.class.available\" name=\"-do-jar-with-libraries-set-main\">\n";
        code += "        <manifest file=\"${tmp.manifest.file}\" mode=\"update\">\n";
        code += "            <attribute name=\"Main-Class\" value=\"${main.class}\"/>\n";
        code += "        </manifest>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-do-jar-with-libraries-create-manifest,-do-jar-with-libraries-copy-manifest\" if=\"do.archive+splashscreen.available\" name=\"-do-jar-with-libraries-set-splashscreen\">\n";
        code += "        <basename file=\"${application.splash}\" property=\"splashscreen.basename\"/>\n";
        code += "        <mkdir dir=\"${build.classes.dir}/META-INF\"/>\n";
        code += "        <copy failonerror=\"false\" file=\"${application.splash}\" todir=\"${build.classes.dir}/META-INF\"/>\n";
        code += "        <manifest file=\"${tmp.manifest.file}\" mode=\"update\">\n";
        code += "            <attribute name=\"SplashScreen-Image\" value=\"META-INF/${splashscreen.basename}\"/>\n";
        code += "        </manifest>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-init-macrodef-copylibs,compile,-pre-pre-jar,-pre-jar,-do-jar-with-libraries-create-manifest,-do-jar-with-libraries-copy-manifest,-do-jar-with-libraries-set-main,-do-jar-with-libraries-set-splashscreen\" if=\"do.mkdist\" name=\"-do-jar-with-libraries-pack\">\n";
        code += "        <j2seproject3:copylibs manifest=\"${tmp.manifest.file}\"/>\n";
        code += "        <echo level=\"info\">To run this application from the command line without Ant, try:</echo>\n";
        code += "        <property location=\"${dist.jar}\" name=\"dist.jar.resolved\"/>\n";
        code += "        <echo level=\"info\">java -jar \"${dist.jar.resolved}\"</echo>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-do-jar-with-libraries-pack\" if=\"do.archive\" name=\"-do-jar-with-libraries-delete-manifest\">\n";
        code += "        <delete>\n";
        code += "            <fileset file=\"${tmp.manifest.file}\"/>\n";
        code += "        </delete>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile,-pre-pre-jar,-pre-jar,-do-jar-with-libraries-create-manifest,-do-jar-with-libraries-copy-manifest,-do-jar-with-libraries-set-main,-do-jar-with-libraries-set-splashscreen,-do-jar-with-libraries-pack,-do-jar-with-libraries-delete-manifest\" name=\"-do-jar-with-libraries\"/>\n";
        code += "    <target name=\"-post-jar\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile,-pre-jar,-do-jar-with-manifest,-do-jar-without-manifest,-do-jar-with-mainclass,-do-jar-with-libraries,-post-jar\" description=\"Build JAR.\" name=\"jar\"/>\n";
        code += "    <!--\n";
        code += "                =================\n";
        code += "                EXECUTION SECTION\n";
        code += "                =================\n";
        code += "            -->\n";
        code += "    <target depends=\"init,compile\" description=\"Run a main class.\" name=\"run\">\n";
        code += "        <j2seproject1:java>\n";
        code += "            <customize>\n";
        code += "                <arg line=\"${application.args}\"/>\n";
        code += "            </customize>\n";
        code += "        </j2seproject1:java>\n";
        code += "    </target>\n";
        code += "    <target name=\"-do-not-recompile\">\n";
        code += "        <property name=\"javac.includes.binary\" value=\"\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-single\" name=\"run-single\">\n";
        code += "        <fail unless=\"run.class\">Must select one file in the IDE or set run.class</fail>\n";
        code += "        <j2seproject1:java classname=\"${run.class}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-test-single\" name=\"run-test-with-main\">\n";
        code += "        <fail unless=\"run.class\">Must select one file in the IDE or set run.class</fail>\n";
        code += "        <j2seproject1:java classname=\"${run.class}\" classpath=\"${run.test.classpath}\"/>\n";
        code += "    </target>\n";
        code += "    <!--\n";
        code += "                =================\n";
        code += "                DEBUGGING SECTION\n";
        code += "                =================\n";
        code += "            -->\n";
        code += "    <target depends=\"init\" if=\"netbeans.home\" name=\"-debug-start-debugger\">\n";
        code += "        <j2seproject1:nbjpdastart name=\"${debug.class}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init\" if=\"netbeans.home\" name=\"-debug-start-debugger-main-test\">\n";
        code += "        <j2seproject1:nbjpdastart classpath=\"${debug.test.classpath}\" name=\"${debug.class}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile\" name=\"-debug-start-debuggee\">\n";
        code += "        <j2seproject3:debug>\n";
        code += "            <customize>\n";
        code += "                <arg line=\"${application.args}\"/>\n";
        code += "            </customize>\n";
        code += "        </j2seproject3:debug>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile,-debug-start-debugger,-debug-start-debuggee\" description=\"Debug project in IDE.\" if=\"netbeans.home\" name=\"debug\"/>\n";
        code += "    <target depends=\"init\" if=\"netbeans.home\" name=\"-debug-start-debugger-stepinto\">\n";
        code += "        <j2seproject1:nbjpdastart stopclassname=\"${main.class}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile,-debug-start-debugger-stepinto,-debug-start-debuggee\" if=\"netbeans.home\" name=\"debug-stepinto\"/>\n";
        code += "    <target depends=\"init,compile-single\" if=\"netbeans.home\" name=\"-debug-start-debuggee-single\">\n";
        code += "        <fail unless=\"debug.class\">Must select one file in the IDE or set debug.class</fail>\n";
        code += "        <j2seproject3:debug classname=\"${debug.class}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-single,-debug-start-debugger,-debug-start-debuggee-single\" if=\"netbeans.home\" name=\"debug-single\"/>\n";
        code += "    <target depends=\"init,compile-test-single\" if=\"netbeans.home\" name=\"-debug-start-debuggee-main-test\">\n";
        code += "        <fail unless=\"debug.class\">Must select one file in the IDE or set debug.class</fail>\n";
        code += "        <j2seproject3:debug classname=\"${debug.class}\" classpath=\"${debug.test.classpath}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-test-single,-debug-start-debugger-main-test,-debug-start-debuggee-main-test\" if=\"netbeans.home\" name=\"debug-test-with-main\"/>\n";
        code += "    <target depends=\"init\" name=\"-pre-debug-fix\">\n";
        code += "        <fail unless=\"fix.includes\">Must set fix.includes</fail>\n";
        code += "        <property name=\"javac.includes\" value=\"${fix.includes}.java\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-pre-debug-fix,compile-single\" if=\"netbeans.home\" name=\"-do-debug-fix\">\n";
        code += "        <j2seproject1:nbjpdareload/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-pre-debug-fix,-do-debug-fix\" if=\"netbeans.home\" name=\"debug-fix\"/>\n";
        code += "    <!--\n";
        code += "                =================\n";
        code += "                PROFILING SECTION\n";
        code += "                =================\n";
        code += "            -->\n";
        code += "    <target depends=\"profile-init,compile\" description=\"Profile a project in the IDE.\" if=\"netbeans.home\" name=\"profile\">\n";
        code += "        <nbprofiledirect>\n";
        code += "            <classpath>\n";
        code += "                <path path=\"${run.classpath}\"/>\n";
        code += "            </classpath>\n";
        code += "        </nbprofiledirect>\n";
        code += "        <profile/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"profile-init,compile-single\" description=\"Profile a selected class in the IDE.\" if=\"netbeans.home\" name=\"profile-single\">\n";
        code += "        <fail unless=\"profile.class\">Must select one file in the IDE or set profile.class</fail>\n";
        code += "        <nbprofiledirect>\n";
        code += "            <classpath>\n";
        code += "                <path path=\"${run.classpath}\"/>\n";
        code += "            </classpath>\n";
        code += "        </nbprofiledirect>\n";
        code += "        <profile classname=\"${profile.class}\"/>\n";
        code += "    </target>\n";
        code += "    <!--\n";
        code += "                =========================\n";
        code += "                APPLET PROFILING  SECTION\n";
        code += "                =========================\n";
        code += "            -->\n";
        code += "    <target depends=\"profile-init,compile-single\" if=\"netbeans.home\" name=\"profile-applet\">\n";
        code += "        <nbprofiledirect>\n";
        code += "            <classpath>\n";
        code += "                <path path=\"${run.classpath}\"/>\n";
        code += "            </classpath>\n";
        code += "        </nbprofiledirect>\n";
        code += "        <profile classname=\"sun.applet.AppletViewer\">\n";
        code += "            <customize>\n";
        code += "                <arg value=\"${applet.url}\"/>\n";
        code += "            </customize>\n";
        code += "        </profile>\n";
        code += "    </target>\n";
        code += "    <!--\n";
        code += "                =========================\n";
        code += "                TESTS PROFILING  SECTION\n";
        code += "                =========================\n";
        code += "            -->\n";
        code += "    <target depends=\"profile-init,compile-test-single\" if=\"netbeans.home\" name=\"profile-test-single\">\n";
        code += "        <nbprofiledirect>\n";
        code += "            <classpath>\n";
        code += "                <path path=\"${run.test.classpath}\"/>\n";
        code += "            </classpath>\n";
        code += "        </nbprofiledirect>\n";
        code += "        <junit dir=\"${profiler.info.dir}\" errorproperty=\"tests.failed\" failureproperty=\"tests.failed\" fork=\"true\" jvm=\"${profiler.info.jvm}\" showoutput=\"true\">\n";
        code += "            <env key=\"${profiler.info.pathvar}\" path=\"${profiler.info.agentpath}:${profiler.current.path}\"/>\n";
        code += "            <jvmarg value=\"${profiler.info.jvmargs.agent}\"/>\n";
        code += "            <jvmarg line=\"${profiler.info.jvmargs}\"/>\n";
        code += "            <test name=\"${profile.class}\"/>\n";
        code += "            <classpath>\n";
        code += "                <path path=\"${run.test.classpath}\"/>\n";
        code += "            </classpath>\n";
        code += "            <syspropertyset>\n";
        code += "                <propertyref prefix=\"test-sys-prop.\"/>\n";
        code += "                <mapper from=\"test-sys-prop.*\" to=\"*\" type=\"glob\"/>\n";
        code += "            </syspropertyset>\n";
        code += "            <formatter type=\"brief\" usefile=\"false\"/>\n";
        code += "            <formatter type=\"xml\"/>\n";
        code += "        </junit>\n";
        code += "    </target>\n";
        code += "    <!--\n";
        code += "                ===============\n";
        code += "                JAVADOC SECTION\n";
        code += "                ===============\n";
        code += "            -->\n";
        code += "    <target depends=\"init\" if=\"have.sources\" name=\"-javadoc-build\">\n";
        code += "        <mkdir dir=\"${dist.javadoc.dir}\"/>\n";
        code += "        <javadoc additionalparam=\"${javadoc.additionalparam}\" author=\"${javadoc.author}\" charset=\"UTF-8\" destdir=\"${dist.javadoc.dir}\" docencoding=\"UTF-8\" encoding=\"${javadoc.encoding.used}\" failonerror=\"true\" noindex=\"${javadoc.noindex}\" nonavbar=\"${javadoc.nonavbar}\" notree=\"${javadoc.notree}\" private=\"${javadoc.private}\" source=\"${javac.source}\" splitindex=\"${javadoc.splitindex}\" use=\"${javadoc.use}\" useexternalfile=\"true\" version=\"${javadoc.version}\" windowtitle=\"${javadoc.windowtitle}\">\n";
        code += "            <classpath>\n";
        code += "                <path path=\"${javac.classpath}\"/>\n";
        code += "            </classpath>\n";
        code += "            <fileset dir=\"${src.dir}\" excludes=\"${excludes}\" includes=\"${includes}\">\n";
        code += "                <filename name=\"**/*.java\"/>\n";
        code += "            </fileset>\n";
        code += "            <fileset dir=\"${build.generated.sources.dir}\" erroronmissingdir=\"false\">\n";
        code += "                <include name=\"**/*.java\"/>\n";
        code += "            </fileset>\n";
        code += "        </javadoc>\n";
        code += "        <copy todir=\"${dist.javadoc.dir}\">\n";
        code += "            <fileset dir=\"${src.dir}\" excludes=\"${excludes}\" includes=\"${includes}\">\n";
        code += "                <filename name=\"**/doc-files/**\"/>\n";
        code += "            </fileset>\n";
        code += "            <fileset dir=\"${build.generated.sources.dir}\" erroronmissingdir=\"false\">\n";
        code += "                <include name=\"**/doc-files/**\"/>\n";
        code += "            </fileset>\n";
        code += "        </copy>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-javadoc-build\" if=\"netbeans.home\" name=\"-javadoc-browse\" unless=\"no.javadoc.preview\">\n";
        code += "        <nbbrowse file=\"${dist.javadoc.dir}/index.html\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-javadoc-build,-javadoc-browse\" description=\"Build Javadoc.\" name=\"javadoc\"/>\n";
        code += "    <!--\n";
        code += "                =========================\n";
        code += "                JUNIT COMPILATION SECTION\n";
        code += "                =========================\n";
        code += "            -->\n";
        code += "    <target depends=\"init,compile\" if=\"have.tests\" name=\"-pre-pre-compile-test\">\n";
        code += "        <mkdir dir=\"${build.test.classes.dir}\"/>\n";
        code += "    </target>\n";
        code += "    <target name=\"-pre-compile-test\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target if=\"do.depend.true\" name=\"-compile-test-depend\">\n";
        code += "        <j2seproject3:depend classpath=\"${javac.test.classpath}\" destdir=\"${build.test.classes.dir}\" srcdir=\"${test.src.dir}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,deps-jar,compile,-pre-pre-compile-test,-pre-compile-test,-compile-test-depend\" if=\"have.tests\" name=\"-do-compile-test\">\n";
        code += "        <j2seproject3:javac apgeneratedsrcdir=\"${build.test.classes.dir}\" classpath=\"${javac.test.classpath}\" debug=\"true\" destdir=\"${build.test.classes.dir}\" processorpath=\"${javac.test.processorpath}\" srcdir=\"${test.src.dir}\"/>\n";
        code += "        <copy todir=\"${build.test.classes.dir}\">\n";
        code += "            <fileset dir=\"${test.src.dir}\" excludes=\"${build.classes.excludes},${excludes}\" includes=\"${includes}\"/>\n";
        code += "        </copy>\n";
        code += "    </target>\n";
        code += "    <target name=\"-post-compile-test\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile,-pre-pre-compile-test,-pre-compile-test,-do-compile-test,-post-compile-test\" name=\"compile-test\"/>\n";
        code += "    <target name=\"-pre-compile-test-single\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,deps-jar,compile,-pre-pre-compile-test,-pre-compile-test-single\" if=\"have.tests\" name=\"-do-compile-test-single\">\n";
        code += "        <fail unless=\"javac.includes\">Must select some files in the IDE or set javac.includes</fail>\n";
        code += "        <j2seproject3:force-recompile destdir=\"${build.test.classes.dir}\"/>\n";
        code += "        <j2seproject3:javac apgeneratedsrcdir=\"${build.test.classes.dir}\" classpath=\"${javac.test.classpath}\" debug=\"true\" destdir=\"${build.test.classes.dir}\" excludes=\"\" includes=\"${javac.includes}\" processorpath=\"${javac.test.processorpath}\" sourcepath=\"${test.src.dir}\" srcdir=\"${test.src.dir}\"/>\n";
        code += "        <copy todir=\"${build.test.classes.dir}\">\n";
        code += "            <fileset dir=\"${test.src.dir}\" excludes=\"${build.classes.excludes},${excludes}\" includes=\"${includes}\"/>\n";
        code += "        </copy>\n";
        code += "    </target>\n";
        code += "    <target name=\"-post-compile-test-single\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile,-pre-pre-compile-test,-pre-compile-test-single,-do-compile-test-single,-post-compile-test-single\" name=\"compile-test-single\"/>\n";
        code += "    <!--\n";
        code += "                =======================\n";
        code += "                JUNIT EXECUTION SECTION\n";
        code += "                =======================\n";
        code += "            -->\n";
        code += "    <target depends=\"init\" if=\"have.tests\" name=\"-pre-test-run\">\n";
        code += "        <mkdir dir=\"${build.test.results.dir}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-test,-pre-test-run\" if=\"have.tests\" name=\"-do-test-run\">\n";
        code += "        <j2seproject3:junit testincludes=\"**/*Test.java\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-test,-pre-test-run,-do-test-run\" if=\"have.tests\" name=\"-post-test-run\">\n";
        code += "        <fail if=\"tests.failed\" unless=\"ignore.failing.tests\">Some tests failed; see details above.</fail>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init\" if=\"have.tests\" name=\"test-report\"/>\n";
        code += "    <target depends=\"init\" if=\"netbeans.home+have.tests\" name=\"-test-browse\"/>\n";
        code += "    <target depends=\"init,compile-test,-pre-test-run,-do-test-run,test-report,-post-test-run,-test-browse\" description=\"Run unit tests.\" name=\"test\"/>\n";
        code += "    <target depends=\"init\" if=\"have.tests\" name=\"-pre-test-run-single\">\n";
        code += "        <mkdir dir=\"${build.test.results.dir}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-test-single,-pre-test-run-single\" if=\"have.tests\" name=\"-do-test-run-single\">\n";
        code += "        <fail unless=\"test.includes\">Must select some files in the IDE or set test.includes</fail>\n";
        code += "        <j2seproject3:junit excludes=\"\" includes=\"${test.includes}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-test-single,-pre-test-run-single,-do-test-run-single\" if=\"have.tests\" name=\"-post-test-run-single\">\n";
        code += "        <fail if=\"tests.failed\" unless=\"ignore.failing.tests\">Some tests failed; see details above.</fail>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-test-single,-pre-test-run-single,-do-test-run-single,-post-test-run-single\" description=\"Run single unit test.\" name=\"test-single\"/>\n";
        code += "    <!--\n";
        code += "                =======================\n";
        code += "                JUNIT DEBUGGING SECTION\n";
        code += "                =======================\n";
        code += "            -->\n";
        code += "    <target depends=\"init,compile-test\" if=\"have.tests\" name=\"-debug-start-debuggee-test\">\n";
        code += "        <fail unless=\"test.class\">Must select one file in the IDE or set test.class</fail>\n";
        code += "        <property location=\"${build.test.results.dir}/TEST-${test.class}.xml\" name=\"test.report.file\"/>\n";
        code += "        <delete file=\"${test.report.file}\"/>\n";
        code += "        <mkdir dir=\"${build.test.results.dir}\"/>\n";
        code += "        <j2seproject3:debug classname=\"org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner\" classpath=\"${ant.home}/lib/ant.jar:${ant.home}/lib/ant-junit.jar:${debug.test.classpath}\">\n";
        code += "            <customize>\n";
        code += "                <syspropertyset>\n";
        code += "                    <propertyref prefix=\"test-sys-prop.\"/>\n";
        code += "                    <mapper from=\"test-sys-prop.*\" to=\"*\" type=\"glob\"/>\n";
        code += "                </syspropertyset>\n";
        code += "                <arg value=\"${test.class}\"/>\n";
        code += "                <arg value=\"showoutput=true\"/>\n";
        code += "                <arg value=\"formatter=org.apache.tools.ant.taskdefs.optional.junit.BriefJUnitResultFormatter\"/>\n";
        code += "                <arg value=\"formatter=org.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter,${test.report.file}\"/>\n";
        code += "            </customize>\n";
        code += "        </j2seproject3:debug>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-test\" if=\"netbeans.home+have.tests\" name=\"-debug-start-debugger-test\">\n";
        code += "        <j2seproject1:nbjpdastart classpath=\"${debug.test.classpath}\" name=\"${test.class}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-test-single,-debug-start-debugger-test,-debug-start-debuggee-test\" name=\"debug-test\"/>\n";
        code += "    <target depends=\"init,-pre-debug-fix,compile-test-single\" if=\"netbeans.home\" name=\"-do-debug-fix-test\">\n";
        code += "        <j2seproject1:nbjpdareload dir=\"${build.test.classes.dir}\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-pre-debug-fix,-do-debug-fix-test\" if=\"netbeans.home\" name=\"debug-fix-test\"/>\n";
        code += "    <!--\n";
        code += "                =========================\n";
        code += "                APPLET EXECUTION SECTION\n";
        code += "                =========================\n";
        code += "            -->\n";
        code += "    <target depends=\"init,compile-single\" name=\"run-applet\">\n";
        code += "        <fail unless=\"applet.url\">Must select one file in the IDE or set applet.url</fail>\n";
        code += "        <j2seproject1:java classname=\"sun.applet.AppletViewer\">\n";
        code += "            <customize>\n";
        code += "                <arg value=\"${applet.url}\"/>\n";
        code += "            </customize>\n";
        code += "        </j2seproject1:java>\n";
        code += "    </target>\n";
        code += "    <!--\n";
        code += "                =========================\n";
        code += "                APPLET DEBUGGING  SECTION\n";
        code += "                =========================\n";
        code += "            -->\n";
        code += "    <target depends=\"init,compile-single\" if=\"netbeans.home\" name=\"-debug-start-debuggee-applet\">\n";
        code += "        <fail unless=\"applet.url\">Must select one file in the IDE or set applet.url</fail>\n";
        code += "        <j2seproject3:debug classname=\"sun.applet.AppletViewer\">\n";
        code += "            <customize>\n";
        code += "                <arg value=\"${applet.url}\"/>\n";
        code += "            </customize>\n";
        code += "        </j2seproject3:debug>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,compile-single,-debug-start-debugger,-debug-start-debuggee-applet\" if=\"netbeans.home\" name=\"debug-applet\"/>\n";
        code += "    <!--\n";
        code += "                ===============\n";
        code += "                CLEANUP SECTION\n";
        code += "                ===============\n";
        code += "            -->\n";
        code += "    <target name=\"-deps-clean-init\" unless=\"built-clean.properties\">\n";
        code += "        <property location=\"${build.dir}/built-clean.properties\" name=\"built-clean.properties\"/>\n";
        code += "        <delete file=\"${built-clean.properties}\" quiet=\"true\"/>\n";
        code += "    </target>\n";
        code += "    <target if=\"already.built.clean.${basedir}\" name=\"-warn-already-built-clean\">\n";
        code += "        <echo level=\"warn\" message=\"Cycle detected: "+project.getName()+" was already built\"/>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,-deps-clean-init\" name=\"deps-clean\" unless=\"no.deps\">\n";
        code += "        <mkdir dir=\"${build.dir}\"/>\n";
        code += "        <touch file=\"${built-clean.properties}\" verbose=\"false\"/>\n";
        code += "        <property file=\"${built-clean.properties}\" prefix=\"already.built.clean.\"/>\n";
        code += "        <antcall target=\"-warn-already-built-clean\"/>\n";
        code += "        <propertyfile file=\"${built-clean.properties}\">\n";
        code += "            <entry key=\"${basedir}\" value=\"\"/>\n";
        code += "        </propertyfile>\n";
        code += "    </target>\n";
        code += "    <target depends=\"init\" name=\"-do-clean\">\n";
        code += "        <delete dir=\"${build.dir}\"/>\n";
        code += "        <delete dir=\"${dist.dir}\" followsymlinks=\"false\" includeemptydirs=\"true\"/>\n";
        code += "    </target>\n";
        code += "    <target name=\"-post-clean\">\n";
        code += "        <!-- Empty placeholder for easier customization. -->\n";
        code += "        <!-- You can override this target in the ../build.xml file. -->\n";
        code += "    </target>\n";
        code += "    <target depends=\"init,deps-clean,-do-clean,-post-clean\" description=\"Clean build products.\" name=\"clean\"/>\n";
        code += "    <target name=\"-check-call-dep\">\n";
        code += "        <property file=\"${call.built.properties}\" prefix=\"already.built.\"/>\n";
        code += "        <condition property=\"should.call.dep\">\n";
        code += "            <not>\n";
        code += "                <isset property=\"already.built.${call.subproject}\"/>\n";
        code += "            </not>\n";
        code += "        </condition>\n";
        code += "    </target>\n";
        code += "    <target depends=\"-check-call-dep\" if=\"should.call.dep\" name=\"-maybe-call-dep\">\n";
        code += "        <ant antfile=\"${call.script}\" inheritall=\"false\" target=\"${call.target}\">\n";
        code += "            <propertyset>\n";
        code += "                <propertyref prefix=\"transfer.\"/>\n";
        code += "                <mapper from=\"transfer.*\" to=\"*\" type=\"glob\"/>\n";
        code += "            </propertyset>\n";
        code += "        </ant>\n";
        code += "    </target>\n";
        code += "</project>\n";
        return code;
    }

    /**
     * project/nbproject/genfiles.properties
     * @return code
     */
    public String get_nbproject_genfiles_properties(){
        String code = "";
        code += "build.xml.data.CRC32=433700b9\n";
        code += "build.xml.script.CRC32=7ff4749c\n";
        code += "build.xml.stylesheet.CRC32=28e38971@1.43.1.45\n";
        code += "# This file is used by a NetBeans-based IDE to track changes in generated files such as build-impl.xml.\n";
        code += "# Do not edit this file. You may delete it but then the IDE will never regenerate such files for you.\n";
        code += "nbproject/build-impl.xml.data.CRC32=433700b9\n";
        code += "nbproject/build-impl.xml.script.CRC32=97812a4f\n";
        code += "nbproject/build-impl.xml.stylesheet.CRC32=0c01fd8e@1.43.1.45\n";
        return code;
    }

    /**
     * project/nbproject/project.properties
     * @return code
     */
    public String get_nbproject_project_properties(){
        String code = "";
        code += "annotation.processing.enabled=true\n";
        code += "annotation.processing.enabled.in.editor=false\n";
        code += "annotation.processing.processor.options=\n";
        code += "annotation.processing.processors.list=\n";
        code += "annotation.processing.run.all.processors=true\n";
        code += "annotation.processing.source.output=${build.generated.sources.dir}/ap-source-output\n";
        code += "build.classes.dir=${build.dir}/classes\n";
        code += "build.classes.excludes=**/*.java,**/*.form\n";
        code += "# This directory is removed when the project is cleaned:\n";
        code += "build.dir=build\n";
        code += "build.generated.dir=${build.dir}/generated\n";
        code += "build.generated.sources.dir=${build.dir}/generated-sources\n";
        code += "# Only compile against the classpath explicitly listed here:\n";
        code += "build.sysclasspath=ignore\n";
        code += "build.test.classes.dir=${build.dir}/test/classes\n";
        code += "build.test.results.dir=${build.dir}/test/results\n";
        code += "# Uncomment to specify the preferred debugger connection transport:\n";
        code += "#debug.transport=dt_socket\n";
        code += "debug.classpath=\\\n";
        code += "    ${run.classpath}\n";
        code += "debug.test.classpath=\\\n";
        code += "    ${run.test.classpath}\n";
        code += "# This directory is removed when the project is cleaned:\n";
        code += "dist.dir=dist\n";
        code += "dist.jar=${dist.dir}/"+project.getName()+".jar\n";
        code += "dist.javadoc.dir=${dist.dir}/javadoc\n";
        code += "excludes=\n";
        code += "file.reference.hsqldb.jar=lib/hsqldb.jar\n";
        code += "includes=**\n";
        code += "jar.compress=false\n";
        code += "javac.classpath=\\\n";
        code += "    ${file.reference.hsqldb.jar}:\\\n";
        code += "# Space-separated list of extra javac options\n";
        code += "javac.compilerargs=\n";
        code += "javac.deprecation=false\n";
        code += "javac.processorpath=\\\n";
        code += "    ${javac.classpath}\n";
        code += "javac.source=1.6\n";
        code += "javac.target=1.6\n";
        code += "javac.test.classpath=\\\n";
        code += "    ${javac.classpath}:\\\n";
        code += "    ${build.classes.dir}\n";
        code += "javac.test.processorpath=\\\n";
        code += "    ${javac.test.classpath}\n";
        code += "javadoc.additionalparam=\n";
        code += "javadoc.author=false\n";
        code += "javadoc.encoding=${source.encoding}\n";
        code += "javadoc.noindex=false\n";
        code += "javadoc.nonavbar=false\n";
        code += "javadoc.notree=false\n";
        code += "javadoc.private=false\n";
        code += "javadoc.splitindex=true\n";
        code += "javadoc.use=true\n";
        code += "javadoc.version=false\n";
        code += "javadoc.windowtitle=\n";
        code += "main.class="+project.getName().toLowerCase()+".MainWindow\n";
        code += "manifest.file=manifest.mf\n";
        code += "meta.inf.dir=${src.dir}/META-INF\n";
        code += "mkdist.disabled=false\n";
        code += "platform.active=default_platform\n";
        code += "run.classpath=\\\n";
        code += "    ${javac.classpath}:\\\n";
        code += "    ${build.classes.dir}\n";
        code += "# Space-separated list of JVM arguments used when running the project\n";
        code += "# (you may also define separate properties like run-sys-prop.name=value instead of -Dname=value\n";
        code += "# or test-sys-prop.name=value to set system properties for unit tests):\n";
        code += "run.jvmargs=\n";
        code += "run.test.classpath=\\\n";
        code += "    ${javac.test.classpath}:\\\n";
        code += "    ${build.test.classes.dir}\n";
        code += "source.encoding=UTF-8\n";
        code += "src.dir=src\n";
        code += "test.src.dir=test\n";
        return code;
    }

    /**
     * project/nbproject/project.xml
     * @return code
     */
    public String get_nbproject_project_xml(){
        String code = "";
        code += "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n";
        code += "<project xmlns=\"http://www.netbeans.org/ns/project/1\">\n";
        code += "    <type>org.netbeans.modules.java.j2seproject</type>\n";
        code += "    <configuration>\n";
        code += "        <data xmlns=\"http://www.netbeans.org/ns/j2se-project/3\">\n";
        code += "            <name>"+project.getName()+"</name>\n";
        code += "            <source-roots>\n";
        code += "                <root id=\"src.dir\"/>\n";
        code += "            </source-roots>\n";
        code += "            <test-roots>\n";
        code += "                <root id=\"test.src.dir\"/>\n";
        code += "            </test-roots>\n";
        code += "        </data>\n";
        code += "    </configuration>\n";
        code += "</project>\n";
        return code;
    }

    
}
